@model cloudscribe.Core.Web.ViewModels.UserAdmin.UserListViewModel
@using cloudscribe.Core.Web.Components
@inject IHtmlLocalizer<CoreResources> sr

@{

}

<div class="row">
    <div class="col-md-10 col-md-push-2">
        <h2>@ViewData["Title"]</h2>
        <div class="row">
            <div class="col-md-5">
                <form class="form-inline" role="form" asp-controller="UserAdmin" asp-action="Search" method="get" asp-antiforgery="false">
                    <input asp-for="SiteGuid" type="hidden" />
                    <div class="input-group">
                        <input asp-for="SearchQuery" name="query" class="form-control" />
                        <span class="input-group-btn">
                            <button type="submit" value="CommonResources.Search" class="btn btn-default">CommonResources.Search</button>
                        </span>
                    </div>
                </form>
            </div>
            <div class="col-md-5">
                <form class="form-inline" role="form" asp-controller="UserAdmin" asp-action="IpSearch" method="get" asp-antiforgery="false">
                    <input asp-for="SiteGuid" type="hidden" />
                    <div class="input-group">
                        <input asp-for="IpQuery" name="ipquery" class="form-control" />
                        <span class="input-group-btn">
                            <button type="submit"  class="btn btn-default">@sr["SearchByIPAddress"]</button>
                        </span>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            @{await Html.RenderPartialAsync("UserListPartial", Model); }
        </div>
    </div>
    <div class="col-md-2 col-md-pull-10">
        @await Component.InvokeAsync("Navigation", "SideNav", NamedNavigationFilters.ParentTree, "SiteAdmin")
    </div>
</div>
@section scripts {
<environment names="Development">
    <script src="~/lib/metisMenu/dist/metisMenu.min.js"></script>
    <script src="~/jsdev/cloudscribe-sidemenu.js"></script>
</environment>
<environment names="Staging,Production">
    <script src="~/js/metisMenu/dist/metisMenu.min.js"></script>
    <script src="~/js/cloudscribe-sidemenu.js"></script>
</environment>   
}

