<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cloudscribe v8.5 Release Notes</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #fafafa;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            font-size: 2.5em;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            font-size: 1.8em;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #2980b9;
            margin-top: 30px;
            font-size: 1.4em;
        }
        h4 {
            color: #16a085;
            margin-top: 25px;
            font-size: 1.2em;
        }
        ul {
            margin: 15px 0;
        }
        li {
            margin: 8px 0;
        }
        strong {
            color: #2c3e50;
        }
        .major-announcement {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        .major-announcement h2,
        .major-announcement h3 {
            color: white;
            border: none;
            padding: 0;
        }
        .major-announcement strong {
            color: #f8f9fa;
        }
        .feature-section {
            background: #f8f9fc;
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
            border-left: 5px solid #28a745;
        }
        .enhancement-section {
            background: #fff8e1;
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
            border-left: 5px solid #ff9800;
        }
        .bugfix-section {
            background: #ffebee;
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
            border-left: 5px solid #f44336;
        }
        .component-list {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .component-list ul {
            columns: 2;
            column-gap: 30px;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .changelog-link {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #ecf0f1;
            font-size: 1.1em;
        }
        .emoji {
            font-size: 1.2em;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>cloudscribe v8.5 Release Notes</h1>

        <div class="major-announcement">
            <h2><span class="emoji">üéâ</span>Major Licensing Change</h2>

            <h3>Commercial Components Now Free</h3>
            <ul>
                <li><strong>Announcement</strong>: All cloudscribe commercial components are now available for free use</li>
                <li><strong>Components Included</strong>:
                    <div class="component-list">
                        <ul>
                            <li>TalkAbout Commenting System</li>
                            <li>TalkAbout Forums</li>
                            <li>Membership Paywall</li>
                            <li>Newsletter Management</li>
                            <li>Forms and Surveys</li>
                            <li>Stripe Payment Integration</li>
                        </ul>
                    </div>
                </li>
                <li><strong>Impact</strong>: License key requirements have been completely removed for all commercial components</li>
                <li><strong>Source Code</strong>: Components remain proprietary (subject to potential future open-sourcing)</li>
                <li><strong>Benefit</strong>: Full cloudscribe ecosystem now accessible without licensing barriers</li>
            </ul>
        </div>

        <h2>New Features</h2>

        <div class="feature-section">
            <h3><span class="emoji">üèóÔ∏è</span>Admin Application Restart</h3>
            <ul>
                <li><strong>Feature</strong>: Added capability for administrators to restart the application directly from the cloudscribe admin interface</li>
                <li><strong>Benefit</strong>: Eliminates need for direct server access when application restart is required</li>
                <li><strong>Configuration</strong>: Controlled via appsettings.json configuration boolean for security</li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe/issues/1102">#1102</a></li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><span class="emoji">üìù</span>Enhanced Summernote Editor</h3>

            <h4>Element Path Display</h4>
            <ul>
                <li><strong>Feature</strong>: New element path breadcrumb display showing current cursor position in DOM hierarchy (similar to CKEditor)</li>
                <li><strong>Functionality</strong>: Real-time updates with clickable breadcrumbs for easy navigation</li>
                <li><strong>Implementation</strong>: Custom Summernote plugin with comprehensive HTML5 tag support</li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe/issues/1208">#1208</a></li>
            </ul>

            <h4>Improved Link Behavior</h4>
            <ul>
                <li><strong>Change</strong>: Hyperlinks no longer open in new windows by default</li>
                <li><strong>Configuration</strong>: Controlled via <code>linkTargetBlank: false</code> in summernote-config.json</li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe/issues/1209">#1209</a></li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><span class="emoji">üì∞</span>RSS Feed Styling Support</h3>
            <ul>
                <li><strong>Feature</strong>: Added ability to style RSS feeds with custom CSS stylesheets</li>
                <li><strong>Implementation</strong>: Support for XML stylesheet meta tags in RSS feeds</li>
                <li><strong>Functionality</strong>: Automatic XSL and CSS file deployment with user override protection</li>
                <li><strong>Benefit</strong>: RSS feeds can now match site branding and provide better user experience</li>
                <li><strong>Documentation</strong>: New documentation available at <a href="https://www.cloudscribe.com/cloudscribesyndication">https://www.cloudscribe.com/cloudscribesyndication</a></li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe.Syndication/issues/7">cloudscribe.Syndication #7</a></li>
            </ul>
        </div>

        <h2>Enhancements</h2>

        <div class="enhancement-section">
            <h3><span class="emoji">üîí</span>Enhanced Auto-Logout System</h3>
            <ul>
                <li><strong>Improvement</strong>: Resolved session timeout issues for users actively using JavaScript API endpoints</li>
                <li><strong>Features</strong>:
                    <ul>
                        <li>Server-side middleware for intelligent session activity tracking</li>
                        <li>Client-side JavaScript for cross-tab session management</li>
                        <li>Configurable timeout thresholds</li>
                    </ul>
                </li>
                <li><strong>Benefit</strong>: Prevents unexpected logouts during active user workflows while maintaining security</li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe/issues/1204">#1204</a></li>
            </ul>
        </div>

        <div class="enhancement-section">
            <h3><span class="emoji">üìä</span>System Information Improvements</h3>
            <ul>
                <li><strong>Enhancement</strong>: Updated System Information page to include previously missing packages</li>
                <li><strong>Added</strong>: Compiled views, static files, integration packages, and Bootstrap components</li>
                <li><strong>Fixed</strong>: Removed duplicate "cloudscribe.Email.Templating.Web" entry</li>
                <li><strong>Benefit</strong>: Improved visibility for troubleshooting and support scenarios</li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe/issues/698">#698</a></li>
            </ul>
        </div>

        <h2>Bug Fixes</h2>

        <div class="bugfix-section">
            <h3><span class="emoji">üîß</span>IdentityServer4 Support Resolution</h3>
            <ul>
                <li><strong>Fixed</strong>: Resolved token creation issues caused by dependency version conflicts</li>
                <li><strong>Root Cause</strong>: System.IdentityModel.Tokens.Jwt version 8.2.* breaking changes</li>
                <li><strong>Solution</strong>: Updated dependency chain management and explicit package references</li>
                <li><strong>Impact</strong>: Restored proper JWT signature validation and metadata endpoint functionality</li>
                <li><strong>Issue</strong>: <a href="https://github.com/cloudscribe/cloudscribe/issues/1205">#1205</a></li>
            </ul>
        </div>

        <div class="bugfix-section">
            <h3><span class="emoji">üìß</span>Email Queue Background Task Exception Handling</h3>
            <ul>
                <li><strong>Fixed</strong>: Resolved cancellation exception thrown during app pool recycling</li>
                <li><strong>Error</strong>: "A task was canceled" in EmailQueueBackgroundTask.ExecuteAsync</li>
                <li><strong>Solution</strong>: Improved cancellation token handling in background services</li>
                <li><strong>Impact</strong>: Eliminates log noise during normal application lifecycle events</li>
                <li><strong>Issue</strong>: <a href="https://github.com/GreatHouseBarn/cloudscribe.Messaging/issues/13">cloudscribe.Messaging #13</a></li>
            </ul>
        </div>

        <div class="changelog-link">
            <hr>
            <p><strong>Full Changelog</strong>: <a href="https://github.com/cloudscribe/cloudscribe/compare/v8.4...v8.5">View all changes</a></p>
        </div>
    </div>
</body>
</html>