!function(){"use strict";var e=0,t=null;console.log("[Restart] Page loaded, will start checking in 3 seconds...");function n(){e++,console.log("[Restart] Attempt "+e+" of 60 - Checking /siteadmin...");var n=new XMLHttpRequest;n.open("GET","/siteadmin",!0),n.timeout=3e3,n.onreadystatechange=function(){if(4===n.readyState){if(console.log("[Restart] Response received - Status: "+n.status+", ReadyState: "+n.readyState),200===n.status)return console.log("[Restart] SUCCESS! Site is back online. Redirecting to /siteadmin..."),clearInterval(t),void(window.location.href="/siteadmin");503===n.status?console.log("[Restart] Site still unavailable (503). Will keep trying..."):n.status>0&&console.log("[Restart] Unexpected status: "+n.status+". Will keep trying..."),e>=60&&(console.log("[Restart] Max attempts reached. Showing manual link."),clearInterval(t),document.getElementById("restart-message")&&(document.getElementById("restart-message").innerHTML='Restart is taking longer than expected.<br><a href="/siteadmin" class="btn btn-primary btn-sm mt-2">Click here to continue</a>'))}},n.onerror=function(){console.log("[Restart] Connection error (site is down or restarting). Attempt "+e),e>=60&&(console.log("[Restart] Max attempts reached after errors. Showing manual link."),clearInterval(t),document.getElementById("restart-message")&&(document.getElementById("restart-message").innerHTML='Restart is taking longer than expected.<br><a href="/siteadmin" class="btn btn-primary btn-sm mt-2">Click here to continue</a>'))},n.ontimeout=function(){console.log("[Restart] Request timed out after 3 seconds. Attempt "+e)};try{n.send()}catch(t){console.log("[Restart] Error sending request: "+t.message)}}setTimeout(function(){console.log("[Restart] Starting polling..."),n(),t=setInterval(n,1e3)},3e3)}();