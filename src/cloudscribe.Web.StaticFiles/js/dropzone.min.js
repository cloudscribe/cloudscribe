"use strict"
function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __guard__(e,t){return void 0!==e&&null!==e?t(e):void 0}function __guardMethod__(e,t,i){return void 0!==e&&null!==e&&"function"==typeof e[t]?i(e,t):void 0}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{}
var t=this._callbacks[e]
if(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r]
for(var o=t,a=!0,s=0,o=a?o:o[Symbol.iterator]();;){var l
if(a){if(s>=o.length)break
l=o[s++]}else{if(s=o.next(),s.done)break
l=s.value}var u=l
u.apply(this,n)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this
var i=this._callbacks[e]
if(!i)return this
if(1===arguments.length)return delete this._callbacks[e],this
for(var n=0;n<i.length;n++){var r=i[n]
if(r===t){i.splice(n,1)
break}}return this}}]),e}(),Dropzone=function(e){function t(e,i){_classCallCheck(this,t)
var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=void 0,o=void 0
if(n.element=e,n.version=t.version,n.defaultOptions.previewTemplate=n.defaultOptions.previewTemplate.replace(/\n*/g,""),n.clickableElements=[],n.listeners=[],n.files=[],"string"==typeof n.element&&(n.element=document.querySelector(n.element)),!n.element||null==n.element.nodeType)throw Error("Invalid dropzone element.")
if(n.element.dropzone)throw Error("Dropzone already attached.")
t.instances.push(n),n.element.dropzone=n
var a=null!=(o=t.optionsForElement(n.element))?o:{}
if(n.options=t.extend({},n.defaultOptions,a,null!=i?i:{}),n.options.forceFallback||!t.isBrowserSupported()){var s
return s=n.options.fallback.call(n),_possibleConstructorReturn(n,s)}if(null==n.options.url&&(n.options.url=n.element.getAttribute("action")),!n.options.url)throw Error("No URL provided.")
if(n.options.acceptedFiles&&n.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")
if(n.options.uploadMultiple&&n.options.chunking)throw Error("You cannot set both: uploadMultiple and chunking.")
return n.options.acceptedMimeTypes&&(n.options.acceptedFiles=n.options.acceptedMimeTypes,delete n.options.acceptedMimeTypes),null!=n.options.renameFilename&&(n.options.renameFile=function(e){return n.options.renameFilename.call(n,e.name,e)}),n.options.method=n.options.method.toUpperCase(),(r=n.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),n.options.previewsContainer!==!1&&(n.options.previewsContainer?n.previewsContainer=t.getElement(n.options.previewsContainer,"previewsContainer"):n.previewsContainer=n.element),n.options.clickable&&(n.options.clickable===!0?n.clickableElements=[n.element]:n.clickableElements=t.getElements(n.options.clickable,"clickable")),n.init(),n}return _inherits(t,e),_createClass(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,i){return i?{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}:void 0},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0
this.element.className=this.element.className+" dz-browser-not-supported"
for(var i=this.element.getElementsByTagName("div"),n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o
if(/(^| )dz-message($| )/.test(a.className)){e=a,a.className="dz-message"
break}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e))
var s=e.getElementsByTagName("span")[0]
return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,n){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height
null==t&&null==i?(t=r.srcWidth,i=r.srcHeight):null==t?t=i*o:null==i&&(i=t/o),t=Math.min(t,r.srcWidth),i=Math.min(i,r.srcHeight)
var a=t/i
if(r.srcWidth>t||r.srcHeight>i)if("crop"===n)o>a?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*a):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/a)
else{if("contain"!==n)throw Error("Unknown resizeMethod '"+n+"'")
o>a?i=t/o:t=i*o}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=i,r},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i=this
if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement)
for(var n=e.previewElement.querySelectorAll("[data-dz-name]"),r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var a
if(r){if(o>=n.length)break
a=n[o++]}else{if(o=n.next(),o.done)break
a=o.value}var s=a
s.textContent=e.name}for(var l=e.previewElement.querySelectorAll("[data-dz-size]"),u=!0,d=0,l=u?l:l[Symbol.iterator]();;){if(u){if(d>=l.length)break
s=l[d++]}else{if(d=l.next(),d.done)break
s=d.value}s.innerHTML=this.filesize(e.size)}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink))
for(var c=function(n){return n.preventDefault(),n.stopPropagation(),e.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)}):i.removeFile(e)},p=e.previewElement.querySelectorAll("[data-dz-remove]"),h=!0,f=0,p=h?p:p[Symbol.iterator]();;){var v
if(h){if(f>=p.length)break
v=p[f++]}else{if(f=p.next(),f.done)break
v=f.value}var m=v
m.addEventListener("click",c)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview")
for(var i=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o
a.alt=e.name,a.src=t}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error)
for(var i=e.previewElement.querySelectorAll("[data-dz-errormessage]"),n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o
a.textContent=t}}},errormultiple:function(){},processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:function(){},uploadprogress:function(e,t,i){if(e.previewElement)for(var n=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var a
if(r){if(o>=n.length)break
a=n[o++]}else{if(o=n.next(),o.done)break
a=o.value}var s=a
"PROGRESS"===s.nodeName?s.value=t:s.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n]
for(var r=i,o=!0,a=0,r=o?r:r[Symbol.iterator]();;){var s
if(o){if(a>=r.length)break
s=r[a++]}else{if(a=r.next(),a.done)break
s=a.value}var l=s
for(var u in l){var d=l[u]
e[u]=d}}return e}}]),_createClass(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this
if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){var i=function u(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t=e.hiddenFileInput.files
if(t.length)for(var i=t,n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o
e.addFile(a)}return e.emit("addedfiles",t),u()})}
i()}this.URL=null!==window.URL?window.URL:window.webkitURL
for(var n=this.events,r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var a
if(r){if(o>=n.length)break
a=n[o++]}else{if(o=n.next(),o.done)break
a=o.value}var s=a
this.on(s,this.options[s])}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(t){return e.emit("complete",t)}),this.on("complete",function(t){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0})
var l=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1}
return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return l(t),e.emit("dragenter",t)},dragover:function(t){var i=void 0
try{i=t.dataTransfer.effectAllowed}catch(n){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",l(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return l(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach(function(i){return e.listeners.push({element:i,events:{click:function(n){return(i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,i=0,n=this.getActiveFiles()
if(n.length){for(var r=this.getActiveFiles(),o=!0,a=0,r=o?r:r[Symbol.iterator]();;){var s
if(o){if(a>=r.length)break
s=r[a++]}else{if(a=r.next(),a.done)break
s=a.value}var l=s
t+=l.upload.bytesSent,i+=l.upload.total}e=100*t/i}else e=100
return this.emit("totaluploadprogress",e,i,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e=void 0,i=void 0
if(e=this.getExistingFallback())return e
var n='<div class="dz-fallback">'
this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>'
var r=t.createElement(n)
return"FORM"!==this.element.tagName?(i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),i.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:r}},{key:"getExistingFallback",value:function(){for(var e=function(e){for(var t=e,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var r
if(i){if(n>=t.length)break
r=t[n++]}else{if(n=t.next(),n.done)break
r=n.value}var o=r
if(/(^| )fallback($| )/.test(o.className))return o}},t=["div","form"],i=0;i<t.length;i++){var n,r=t[i]
if(n=e(this.element.getElementsByTagName(r)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[]
for(var i in e.events){var n=e.events[i]
t.push(e.element.addEventListener(i,n,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[]
for(var i in e.events){var n=e.events[i]
t.push(e.element.removeEventListener(i,n,!1))}return t}()})}},{key:"disable",value:function(){var e=this
return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,i="b"
if(e>0){for(var n=["tb","gb","mb","kb","b"],r=0;r<n.length;r++){var o=n[r],a=Math.pow(this.options.filesizeBase,4-r)/10
if(e>=a){t=e/Math.pow(this.options.filesizeBase,4-r),i=o
break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e)
for(var t=[],i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i]
if(this.emit("addedfiles",t),t.length){var n=e.dataTransfer.items
n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:void 0,function(e){return e.items})){this.emit("paste",e)
var t=e.clipboardData.items
return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){for(var t=e,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var r
if(i){if(n>=t.length)break
r=t[n++]}else{if(n=t.next(),n.done)break
r=n.value}var o=r
this.addFile(o)}}},{key:"_addFilesFromItems",value:function(e){var t=this
return function(){for(var i=[],n=e,r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var a
if(r){if(o>=n.length)break
a=n[o++]}else{if(o=n.next(),o.done)break
a=o.value}var s,l=a
null!=l.webkitGetAsEntry&&(s=l.webkitGetAsEntry())?s.isFile?i.push(t.addFile(l.getAsFile())):s.isDirectory?i.push(t._addFilesFromDirectory(s,s.name)):i.push(void 0):null!=l.getAsFile&&(null==l.kind||"file"===l.kind)?i.push(t.addFile(l.getAsFile())):i.push(void 0)}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var i=this,n=e.createReader(),r=function(e){return __guardMethod__(console,"log",function(t){return t.log(e)})},o=function a(){return n.readEntries(function(e){if(e.length>0){for(var n=e,r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var s
if(r){if(o>=n.length)break
s=n[o++]}else{if(o=n.next(),o.done)break
s=o.value}var l=s
l.isFile?l.file(function(e){return i.options.ignoreHiddenFiles&&"."===e.name.substring(0,1)?void 0:(e.fullPath=t+"/"+e.name,i.addFile(e))}):l.isDirectory&&i._addFilesFromDirectory(l,t+"/"+l.name)}a()}return null},r)}
return o()}},{key:"accept",value:function(e,i){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var i=this
return e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){for(var t=e,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var r
if(i){if(n>=t.length)break
r=t[n++]}else{if(n=t.next(),n.done)break
r=n.value}var o=r
this.enqueueFile(o)}return null}},{key:"enqueueFile",value:function(e){var i=this
if(e.status!==t.ADDED||e.accepted!==!0)throw Error("This file can't be queued because it has already been processed or was rejected.")
return e.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return i.processQueue()},0):void 0}},{key:"_enqueueThumbnail",value:function(e){var t=this
return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)):void 0}},{key:"_processThumbnailQueue",value:function(){var e=this
if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0
var t=this._thumbnailQueue.shift()
return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){return e.emit("thumbnail",t,i),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){return e.status===t.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1)
for(var i=this.files.slice(),n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o;(a.status!==t.UPLOADING||e)&&this.removeFile(a)}return null}},{key:"resizeImage",value:function(e,i,n,r,o){var a=this
return this.createThumbnail(e,i,n,r,!1,function(i,n){if(null==n)return o(e)
var r=a.options.resizeMimeType
null==r&&(r=e.type)
var s=n.toDataURL(r,a.options.resizeQuality)
return("image/jpeg"===r||"image/jpg"===r)&&(s=ExifRestore.restore(e.dataURL,s)),o(t.dataURItoBlob(s))})}},{key:"createThumbnail",value:function(e,t,i,n,r,o){var a=this,s=new FileReader
return s.onload=function(){return e.dataURL=s.result,"image/svg+xml"===e.type?void(null!=o&&o(s.result)):a.createThumbnailFromUrl(e,t,i,n,r,o)},s.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,i,n,r,o,a){var s=this,l=document.createElement("img")
return a&&(l.crossOrigin=a),l.onload=function(){var a=function(e){return e(1)}
return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(a=function(e){return EXIF.getData(l,function(){return e(EXIF.getTag(this,"Orientation"))})}),a(function(r){e.width=l.width,e.height=l.height
var a=s.options.resize.call(s,e,t,i,n),u=document.createElement("canvas"),d=u.getContext("2d")
switch(u.width=a.trgWidth,u.height=a.trgHeight,r>4&&(u.width=a.trgHeight,u.height=a.trgWidth),r){case 2:d.translate(u.width,0),d.scale(-1,1)
break
case 3:d.translate(u.width,u.height),d.rotate(Math.PI)
break
case 4:d.translate(0,u.height),d.scale(1,-1)
break
case 5:d.rotate(.5*Math.PI),d.scale(1,-1)
break
case 6:d.rotate(.5*Math.PI),d.translate(0,-u.height)
break
case 7:d.rotate(.5*Math.PI),d.translate(u.width,-u.height),d.scale(-1,1)
break
case 8:d.rotate(-.5*Math.PI),d.translate(-u.width,0)}drawImageIOSFix(d,l,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight)
var c=u.toDataURL("image/png")
return null!=o?o(c,u):void 0})},null!=o&&(l.onerror=o),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,i=t
if(!(t>=e)){var n=this.getQueuedFiles()
if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t))
for(;e>i;){if(!n.length)return
this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var i=e,n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o
a.processing=!0,a.status=t.UPLOADING,this.emit("processing",a)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){var t=void 0
return t=this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){for(var i=this._getFilesWithXhr(e.xhr),n=i,r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var a
if(r){if(o>=n.length)break
a=n[o++]}else{if(o=n.next(),o.done)break
a=o.value}var s=a
s.status=t.CANCELED}void 0!==e.xhr&&e.xhr.abort()
for(var l=i,u=!0,d=0,l=u?l:l[Symbol.iterator]();;){var c
if(u){if(d>=l.length)break
c=l[d++]}else{if(d=l.next(),d.done)break
c=d.value}var p=c
this.emit("canceled",p)}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(e.status===t.ADDED||e.status===t.QUEUED)&&(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]))
return this.options.autoProcessQueue?this.processQueue():void 0}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n]
return e.apply(this,i)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var i=this
this._transformFiles(e,function(n){if(e[0].upload.chunked){var r=e[0],o=n[0],a=0
r.upload.chunks=[]
var s=function(){for(var n=0;void 0!==r.upload.chunks[n];)n++
if(!(n>=r.upload.totalChunkCount)){a++
var s=n*i.options.chunkSize,l=Math.min(s+i.options.chunkSize,r.size),u={name:i._getParamName(0),data:o.webkitSlice?o.webkitSlice(s,l):o.slice(s,l),filename:r.upload.filename,chunkIndex:n}
r.upload.chunks[n]={file:r,index:n,dataBlock:u,status:t.UPLOADING,progress:0,retries:0},i._uploadData(e,[u])}}
if(r.upload.finishedChunkUpload=function(n){var o=!0
n.status=t.SUCCESS,n.dataBlock=null
for(var a=0;a<r.upload.totalChunkCount;a++){if(void 0===r.upload.chunks[a])return s()
r.upload.chunks[a].status!==t.SUCCESS&&(o=!1)}o&&i.options.chunksUploaded(r,function(){i._finished(e,"",null)})},i.options.parallelChunkUploads)for(var l=0;l<r.upload.totalChunkCount;l++)s()
else s()}else{for(var u=[],d=0;d<e.length;d++)u[d]={name:i._getParamName(d),data:n[d],filename:e[d].upload.filename}
i._uploadData(e,u)}})}},{key:"_getChunk",value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++)if(void 0!==e.upload.chunks[i]&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}},{key:"_uploadData",value:function(e,i){for(var n=this,r=new XMLHttpRequest,o=e,a=!0,s=0,o=a?o:o[Symbol.iterator]();;){var l
if(a){if(s>=o.length)break
l=o[s++]}else{if(s=o.next(),s.done)break
l=s.value}var u=l
u.xhr=r}e[0].upload.chunked&&(e[0].upload.chunks[i[0].chunkIndex].xhr=r)
var d=this.resolveOption(this.options.method,e),c=this.resolveOption(this.options.url,e)
r.open(d,c,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){n._finishedUploading(e,r,t)},r.onerror=function(){n._handleUploadError(e,r)}
var p=null!=r.upload?r.upload:r
p.onprogress=function(t){return n._updateFilesUploadProgress(e,r,t)}
var h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}
this.options.headers&&t.extend(h,this.options.headers)
for(var f in h){var v=h[f]
v&&r.setRequestHeader(f,v)}var m=new FormData
if(this.options.params){var g=this.options.params
"function"==typeof g&&(g=g.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null))
for(var k in g){var b=g[k]
m.append(k,b)}}for(var y=e,F=!0,x=0,y=F?y:y[Symbol.iterator]();;){var E
if(F){if(x>=y.length)break
E=y[x++]}else{if(x=y.next(),x.done)break
E=x.value}var w=E
this.emit("sending",w,r,m)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,m),this._addFormElementData(m)
for(var z=0;z<i.length;z++){var C=i[z]
m.append(C.name,C.data,C.filename)}this.submitRequest(r,m,e)}},{key:"_transformFiles",value:function(e,t){for(var i=this,n=[],r=0,o=function(o){i.options.transformFile.call(i,e[o],function(i){n[o]=i,++r===e.length&&t(n)})},a=0;a<e.length;a++)o(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName)for(var t=this.element.querySelectorAll("input, textarea, select, button"),i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var r
if(i){if(n>=t.length)break
r=t[n++]}else{if(n=t.next(),n.done)break
r=n.value}var o=r,a=o.getAttribute("name"),s=o.getAttribute("type")
if(s&&(s=s.toLowerCase()),void 0!==a&&null!==a)if("SELECT"===o.tagName&&o.hasAttribute("multiple"))for(var l=o.options,u=!0,d=0,l=u?l:l[Symbol.iterator]();;){var c
if(u){if(d>=l.length)break
c=l[d++]}else{if(d=l.next(),d.done)break
c=d.value}var p=c
p.selected&&e.append(a,p.value)}else(!s||"checkbox"!==s&&"radio"!==s||o.checked)&&e.append(a,o.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,i){var n=void 0
if(void 0!==i){if(n=100*i.loaded/i.total,e[0].upload.chunked){var r=e[0],o=this._getChunk(r,t)
o.progress=n,o.total=i.total,o.bytesSent=i.loaded
r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0
for(var a=0;a<r.upload.totalChunkCount;a++)void 0!==r.upload.chunks[a]&&void 0!==r.upload.chunks[a].progress&&(r.upload.progress+=r.upload.chunks[a].progress,r.upload.total+=r.upload.chunks[a].total,r.upload.bytesSent+=r.upload.chunks[a].bytesSent)
r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else for(var s=e,l=!0,u=0,s=l?s:s[Symbol.iterator]();;){var d
if(l){if(u>=s.length)break
d=s[u++]}else{if(u=s.next(),u.done)break
d=u.value}var c=d
c.upload.progress=n,c.upload.total=i.total,c.upload.bytesSent=i.loaded}for(var p=e,h=!0,f=0,p=h?p:p[Symbol.iterator]();;){var v
if(h){if(f>=p.length)break
v=p[f++]}else{if(f=p.next(),f.done)break
v=f.value}var m=v
this.emit("uploadprogress",m,m.upload.progress,m.upload.bytesSent)}}else{var g=!0
n=100
for(var k=e,b=!0,y=0,k=b?k:k[Symbol.iterator]();;){var F
if(b){if(y>=k.length)break
F=k[y++]}else{if(y=k.next(),y.done)break
F=y.value}var x=F;(100!==x.upload.progress||x.upload.bytesSent!==x.upload.total)&&(g=!1),x.upload.progress=n,x.upload.bytesSent=x.upload.total}if(g)return
for(var E=e,w=!0,z=0,E=w?E:E[Symbol.iterator]();;){var C
if(w){if(z>=E.length)break
C=E[z++]}else{if(z=E.next(),z.done)break
C=z.value}var S=C
this.emit("uploadprogress",S,n,S.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,i,n){var r=void 0
if(e[0].status!==t.CANCELED&&4===i.readyState){if("arraybuffer"!==i.responseType&&"blob"!==i.responseType&&(r=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(o){n=o,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=i.status&&i.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],i)):this._finished(e,r,n):this._handleUploadError(e,i,r)}}},{key:"_handleUploadError",value:function(e,i,n){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],i)
if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock])
console.warn("Retried this chunk too often. Giving up.")}for(var o=e,a=!0,s=0,o=a?o:o[Symbol.iterator]();;){var l
if(a){if(s>=o.length)break
l=o[s++]}else{if(s=o.next(),s.done)break
l=s.value}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}}},{key:"submitRequest",value:function(e,t,i){e.send(t)}},{key:"_finished",value:function(e,i,n){for(var r=e,o=!0,a=0,r=o?r:r[Symbol.iterator]();;){var s
if(o){if(a>=r.length)break
s=r[a++]}else{if(a=r.next(),a.done)break
s=a.value}var l=s
l.status=t.SUCCESS,this.emit("success",l,i,n),this.emit("complete",l)}return this.options.uploadMultiple&&(this.emit("successmultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0}},{key:"_errorProcessing",value:function(e,i,n){for(var r=e,o=!0,a=0,r=o?r:r[Symbol.iterator]();;){var s
if(o){if(a>=r.length)break
s=r[a++]}else{if(a=r.next(),a.done)break
s=a.value}var l=s
l.status=t.ERROR,this.emit("error",l,i,n),this.emit("complete",l)}return this.options.uploadMultiple&&(this.emit("errormultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8
return i.toString(16)})}}]),t}(Emitter)
Dropzone.initClass(),Dropzone.version="5.4.0",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")
return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var e=void 0
if(document.querySelectorAll)e=document.querySelectorAll(".dropzone")
else{e=[]
var t=function(t){return function(){for(var i=[],n=t,r=!0,o=0,n=r?n:n[Symbol.iterator]();;){var a
if(r){if(o>=n.length)break
a=n[o++]}else{if(o=n.next(),o.done)break
a=o.value}var s=a;/(^| )dropzone($| )/.test(s.className)?i.push(e.push(s)):i.push(void 0)}return i}()}
t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){for(var t=[],i=e,n=!0,r=0,i=n?i:i[Symbol.iterator]();;){var o
if(n){if(r>=i.length)break
o=i[r++]}else{if(r=i.next(),r.done)break
o=r.value}var a=o
Dropzone.optionsForElement(a)!==!1?t.push(new Dropzone(a)):t.push(void 0)}return t}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0
if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=Dropzone.blacklistedBrowsers,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var r
if(i){if(n>=t.length)break
r=t[n++]}else{if(n=t.next(),n.done)break
r=n.value}var o=r
o.test(navigator.userAgent)&&(e=!1)}else e=!1
else e=!1
return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0,a=t.length,s=a>=0;s?a>=o:o>=a;s?o++:o--)r[o]=t.charCodeAt(o)
return new Blob([n],{type:i})}
var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})}
Dropzone.createElement=function(e){var t=document.createElement("div")
return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0
for(;e=e.parentNode;)if(e===t)return!0
return!1},Dropzone.getElement=function(e,t){var i=void 0
if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.")
return i},Dropzone.getElements=function(e,t){var i=void 0,n=void 0
if(e instanceof Array){n=[]
try{for(var r=e,o=!0,a=0,r=o?r:r[Symbol.iterator]();;){if(o){if(a>=r.length)break
i=r[a++]}else{if(a=r.next(),a.done)break
i=a.value}n.push(this.getElement(i,t))}}catch(s){n=null}}else if("string"==typeof e){n=[]
for(var l=document.querySelectorAll(e),u=!0,d=0,l=u?l:l[Symbol.iterator]();;){if(u){if(d>=l.length)break
i=l[d++]}else{if(d=l.next(),d.done)break
i=d.value}n.push(i)}}else null!=e.nodeType&&(n=[e])
if(null==n||!n.length)throw Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")
return n},Dropzone.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0
t=t.split(",")
for(var i=e.type,n=i.replace(/\/.*$/,""),r=t,o=!0,a=0,r=o?r:r[Symbol.iterator]();;){var s
if(o){if(a>=r.length)break
s=r[a++]}else{if(a=r.next(),a.done)break
s=a.value}var l=s
if(l=l.trim(),"."===l.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return!0}else if(/\/\*$/.test(l)){if(n===l.replace(/\/.*$/,""))return!0}else if(i===l)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success"
var detectVerticalSquash=function(e){var t=(e.naturalWidth,e.naturalHeight),i=document.createElement("canvas")
i.width=1,i.height=t
var n=i.getContext("2d")
n.drawImage(e,0,0)
for(var r=n.getImageData(1,0,1,t),o=r.data,a=0,s=t,l=t;l>a;){var u=o[4*(l-1)+3]
0===u?s=l:a=l,l=s+a>>1}var d=l/t
return 0===d?1:d},drawImageIOSFix=function(e,t,i,n,r,o,a,s,l,u){var d=detectVerticalSquash(t)
return e.drawImage(t,i,n,r,o,a,s,l,u/d)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",i=void 0,n=void 0,r="",o=void 0,a=void 0,s=void 0,l="",u=0;;)if(i=e[u++],n=e[u++],r=e[u++],o=i>>2,a=(3&i)<<4|n>>4,s=(15&n)<<2|r>>6,l=63&r,isNaN(n)?s=l=64:isNaN(r)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),i=n=r="",o=a=s=l="",!(u<e.length))break
return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t
var i=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),r=this.exifManipulation(t,n)
return"data:image/jpeg;base64,"+this.encode64(r)}},{key:"exifManipulation",value:function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i),r=new Uint8Array(n)
return r}},{key:"getExifArray",value:function(e){for(var t=void 0,i=0;i<e.length;){if(t=e[i],255===t[0]&225===t[1])return t
i++}return[]}},{key:"insertExif",value:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),r=n.indexOf(255,3),o=n.slice(0,r),a=n.slice(r),s=o
return s=s.concat(t),s=s.concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,i=[];;){var n
if(255===e[t]&218===e[t+1])break
if(255===e[t]&216===e[t+1])t+=2
else{n=256*e[t+2]+e[t+3]
var r=t+n+2,o=e.slice(t,r)
i.push(o),t=r}if(t>e.length)break}return i}},{key:"decode64",value:function(e){var t=void 0,i=void 0,n="",r=void 0,o=void 0,a=void 0,s="",l=0,u=[],d=/[^A-Za-z0-9\+\/\=]/g
for(d.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");;)if(r=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|o>>4,i=(15&o)<<4|a>>2,n=(3&a)<<6|s,u.push(t),64!==a&&u.push(i),64!==s&&u.push(n),t=i=n="",r=o=a=s="",!(l<e.length))break
return u}}]),e}()
ExifRestore.initClass()
var contentLoaded=function(e,t){var i=!1,n=!0,r=e.document,o=r.documentElement,a=r.addEventListener?"addEventListener":"attachEvent",s=r.addEventListener?"removeEventListener":"detachEvent",l=r.addEventListener?"":"on",u=function p(n){return"readystatechange"!==n.type||"complete"===r.readyState?(("load"===n.type?e:r)[s](l+n.type,p,!1),!i&&(i=!0)?t.call(e,n.type||n):void 0):void 0},d=function h(){try{o.doScroll("left")}catch(e){return void setTimeout(h,50)}return u("poll")}
if("complete"!==r.readyState){if(r.createEventObject&&o.doScroll){try{n=!e.frameElement}catch(c){}n&&d()}return r[a](l+"DOMContentLoaded",u,!1),r[a](l+"readystatechange",u,!1),e[a](l+"load",u,!1)}}
Dropzone._autoDiscoverFunction=function(){return Dropzone.autoDiscover?Dropzone.discover():void 0},contentLoaded(window,Dropzone._autoDiscoverFunction)
